#    ______          __           _             
#   /_  __/__  _____/ /_   _   __(_)__ _      __
#    / / / _ \/ ___/ __/  | | / / / _ \ | /| / /
#   / / /  __(__  ) /_    | |/ / /  __/ |/ |/ / 
#  /_/  \___/____/\__/    |___/_/\___/|__/|__/  
#                                               
#                                    by J-Lindvig
#     __ __                     _ ____  __            __                          
#    / // /__ _______   _    __(_) / / / /  ___   ___/ /______ ____ ____  ___  ___
#   / _  / -_) __/ -_) | |/|/ / / / / / _ \/ -_) / _  / __/ _ `/ _ `/ _ \/ _ \(_-<
#  /_//_/\__/_/  \__/  |__,__/_/_/_/ /_.__/\__/  \_,_/_/  \_,_/\_, /\___/_//_/___/
#                                                             /___/               

title: System
icon: mdi:test-tube
panel: true
cards:
  - type: custom:layout-card
    layout: auto
    max_columns: 3
    min_width: 33%
    max_width: 99%
    cards:

      # Bathroom
      - type: entities
        title: Lysstyring
        entities:
          - type: custom:fold-entity-row
            head:
              type: section
              label: Badeværelser
            padding: 0
            entities:
              - automation.badevaerelse_lysstyring
              - type: custom:fold-entity-row
                head: input_datetime.morningbath_start
                padding: 0
                entities:
                  - type: 'custom:time-picker-card'
                    entity: input_datetime.morningbath_start
                    name: Badetid start
                    link_values: true
                    layout:
                      name: inside
                      align_controls: right
              - type: custom:fold-entity-row
                head: input_datetime.morningbath_end
                padding: 0
                entities:
                  - type: 'custom:time-picker-card'
                    entity: input_datetime.morningbath_end
                    name: Badetid slut
                    link_values: true
                    layout:
                      name: inside
                      align_controls: right
              - type: custom:slider-entity-row
                entity: input_number.morningbath_length

          - type: custom:fold-entity-row
            head:
              type: section
              label: Dæmpning
            padding: 0
            entities:
              - type: custom:slider-entity-row
                entity: input_number.sun_elevation_light
                hide_state: false
              - type: custom:fold-entity-row
                head: input_datetime.dim_time
                entities:
                  - type: 'custom:time-picker-card'
                    entity: input_datetime.dim_time
                    name: Vælg klokkeslæt
                    link_values: true
                    layout:
                      name: inside
                      align_controls: right
              - type: custom:fold-entity-row
                head:
                  type: section
                  label: Lysstyrker
                padding: 0
                entities:
                  - type: custom:slider-entity-row
                    entity: input_number.dim_high
                    hide_state: false
                  - type: custom:slider-entity-row
                    entity: input_number.dim_low
                    hide_state: false
              - type: custom:fold-entity-row
                head:
                  type: section
                  label: Tiemouts
                padding: 0
                entities:
                  - type: custom:slider-entity-row
                    entity: input_number.light_timeout_day
                    hide_state: false
                  - type: custom:slider-entity-row
                    entity: input_number.light_timeout_night
                    hide_state: false

          - type: custom:fold-entity-row
            head:
              type: section
              label: Glemt lys
            padding: 0
            entities:
              - automation.sluk_lys_tomt_hus
              - type: custom:fold-entity-row
                head: automation.sluk_lys_tomt_vaerelse
                padding: 0
                entities:
                  - type: custom:slider-entity-row
                    entity: input_number.timeout_forgotten_light
    

      # Default view
      - type: entities
        show_header_toggle: false
        entities:
          - type: custom:fold-entity-row
            head: automation.retur_til_default_view
            padding: 0
            entities:
              - input_text.default_view_path
              - type: custom:slider-entity-row
                entity: input_number.default_view_timeout
    
      # Computers
      - type: entities
        title: Computers
        icon: mdi:desktop-tower
        show_header_toggle: true
        entities:
          - switch.pc_j_lindvig_windows
          - switch.pc_h_lindvig

      # Postkasse
      - type: entities
        entities:
          - type: custom:fold-entity-row
            head: automation.postkasse
            padding: 0
            entities:
              - type: custom:slider-entity-row
                entity: input_number.mailbox_time_open

      # Toilet
      - type: entities
        entities:
          - type: custom:fold-entity-row
            head: automation.toilet_meddelse
            padding: 0
            entities:
              - input_text.toilet_string
              - type: custom:slider-entity-row
                entity: input_number.toilet_volume

      # Windows
      - type: custom:auto-entities
        card:
          type: entities
          show_state: false
        filter:
          include:
            - entity_id: "group.open_close_sensors"
              options:
                type: custom:fold-entity-row
                padding: 0

      # Network
      - type: custom:auto-entities
        card:
          type: entities
          show_state: false
        entities:
          - binary_sensor.router
          - binary_sensor.main_switch
        filter:
          include:
            - entity_id: "group.access_points"
              options:
                type: custom:fold-entity-row
            - entity_id: "group.sonoff_rf"
              options:
                type: custom:fold-entity-row
            - entity_id: "group.rm_mini_3"
              options:
                type: custom:fold-entity-row
    
      - type: custom:clock-card
    
      - !include cards/test/flag_card.yaml
    
      - type: custom:gui-sandbox